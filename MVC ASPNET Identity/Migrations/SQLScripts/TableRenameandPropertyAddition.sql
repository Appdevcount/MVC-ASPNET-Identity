EXECUTE sp_rename @objname = N'dbo.Roles', @newname = N'Role', @objtype = N'OBJECT'
IF object_id('[PK_dbo.Roles]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.Roles]', @newname = N'PK_dbo.Role', @objtype = N'OBJECT'
END
EXECUTE sp_rename @objname = N'dbo.UserRoles', @newname = N'UserRole', @objtype = N'OBJECT'
IF object_id('[PK_dbo.UserRoles]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.UserRoles]', @newname = N'PK_dbo.UserRole', @objtype = N'OBJECT'
END
EXECUTE sp_rename @objname = N'dbo.Users', @newname = N'AspNetUsers', @objtype = N'OBJECT'
IF object_id('[PK_dbo.Users]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.Users]', @newname = N'PK_dbo.AspNetUsers', @objtype = N'OBJECT'
END
EXECUTE sp_rename @objname = N'dbo.UserClaims', @newname = N'UserClaim', @objtype = N'OBJECT'
IF object_id('[PK_dbo.UserClaims]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.UserClaims]', @newname = N'PK_dbo.UserClaim', @objtype = N'OBJECT'
END
EXECUTE sp_rename @objname = N'dbo.UserLogins', @newname = N'UserLogin', @objtype = N'OBJECT'
IF object_id('[PK_dbo.UserLogins]') IS NOT NULL BEGIN
    EXECUTE sp_rename @objname = N'[PK_dbo.UserLogins]', @newname = N'PK_dbo.UserLogin', @objtype = N'OBJECT'
END
IF object_id(N'[dbo].[FK_dbo.UserRoles_dbo.Roles_IdentityRole_Id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[UserRoles] DROP CONSTRAINT [FK_dbo.UserRoles_dbo.Roles_IdentityRole_Id]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_IdentityRole_Id' AND object_id = object_id(N'[dbo].[UserRole]', N'U'))
    DROP INDEX [IX_IdentityRole_Id] ON [dbo].[UserRole]
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.UserRole')
AND col_name(parent_object_id, parent_column_id) = 'RoleId';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[UserRole] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[UserRole] DROP COLUMN [RoleId]
EXECUTE sp_rename @objname = N'dbo.Role.RoleId', @newname = N'Id', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.AspNetUsers.UserId', @newname = N'Id', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.User.UserId', @newname = N'Id', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.UserRole.IdentityRole_Id', @newname = N'RoleId', @objtype = N'COLUMN'
ALTER TABLE [dbo].[UserRole] DROP CONSTRAINT [PK_dbo.UserRole]
CREATE TABLE [dbo].[User] (
    [Id] [nvarchar](128) NOT NULL,
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[User]([UserName])
ALTER TABLE [dbo].[Role] ALTER COLUMN [Name] [nvarchar](256) NOT NULL
ALTER TABLE [dbo].[UserRole] ALTER COLUMN [RoleId] [nvarchar](128) NOT NULL
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [PK_dbo.UserRole] PRIMARY KEY ([UserId], [RoleId])
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[Role]([Name])
CREATE INDEX [IX_RoleId] ON [dbo].[UserRole]([RoleId])
CREATE INDEX [IX_Id] ON [dbo].[AspNetUsers]([Id])
ALTER TABLE [dbo].[AspNetUsers] ADD CONSTRAINT [FK_dbo.AspNetUsers_dbo.User_Id] FOREIGN KEY ([Id]) REFERENCES [dbo].[User] ([Id])
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [FK_dbo.UserRole_dbo.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([Id]) ON DELETE CASCADE
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'Email';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [Email]
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'EmailConfirmed';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [EmailConfirmed]
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'PasswordHash';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [PasswordHash]
DECLARE @var4 nvarchar(128)
SELECT @var4 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'SecurityStamp';
IF @var4 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var4 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [SecurityStamp]
DECLARE @var5 nvarchar(128)
SELECT @var5 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'PhoneNumber';
IF @var5 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var5 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [PhoneNumber]
DECLARE @var6 nvarchar(128)
SELECT @var6 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'PhoneNumberConfirmed';
IF @var6 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var6 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [PhoneNumberConfirmed]
DECLARE @var7 nvarchar(128)
SELECT @var7 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'TwoFactorEnabled';
IF @var7 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var7 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [TwoFactorEnabled]
DECLARE @var8 nvarchar(128)
SELECT @var8 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'LockoutEndDateUtc';
IF @var8 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var8 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [LockoutEndDateUtc]
DECLARE @var9 nvarchar(128)
SELECT @var9 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'LockoutEnabled';
IF @var9 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var9 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [LockoutEnabled]
DECLARE @var10 nvarchar(128)
SELECT @var10 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'AccessFailedCount';
IF @var10 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var10 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [AccessFailedCount]
DECLARE @var11 nvarchar(128)
SELECT @var11 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'UserName';
IF @var11 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var11 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [UserName]
DECLARE @var12 nvarchar(128)
SELECT @var12 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetUsers')
AND col_name(parent_object_id, parent_column_id) = 'Discriminator';
IF @var12 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [' + @var12 + ']')
ALTER TABLE [dbo].[AspNetUsers] DROP COLUMN [Discriminator]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201701111006528_TableRenameAndPropertyAddition', N'MVC_ASPNET_Identity.Migrations.Configuration',  0x1F8B0800000000000400DD5CDB6EE338127D5F60FF41D0D3CC2263E5B2DDE80DEC19A49D6436D8CE056D7763DF025AA21DA125CA2351E9048BF9B279D84FDA5F585237F32A51173BF66080415B244F158BC52AB25895FFFDF1DFF12F2F61603DC338F12334B14F46C7B605911B793E5A4DEC142F7FFA60FFF2F35FFF32BEF2C217EB6BD9EF8CF623235132B19F305E9F3B4EE23EC11024A3D077E328899678E446A103BCC8393D3EFE877372E2400261132CCB1A7F4E11F64398FD203FA71172E11AA720B88D3C1824C577D232CB50AD3B10C2640D5C38B16FBF4E1F2F660F7757F3C71B0F1218FC3ACA47D9D645E003C2D10C064BDB0208451860C2EFF99704CE701CA1D56C4D3E8060FEBA86A4DF1204092CE671BEE96E3AA5E3533A256733B08472D30447614BC093B342468E38BC93A4ED4A86448A579998E8AC33494EEC52729FA380084024783E0D62DA9908BB227191ACEF201E5522CF21AF6302F73D8ABF8D58C423CB78DC51A553A7A363FADF91354D039CC67082608A63101C590FE922F0DD7FC1D779F40DA2C9D9C96279F6E1DD7BE09DBDFF3B3C7BC7CE94CC95F4E33E904F0F71B48631E10D2EABF9DB96C38F73C481D530664C2E15A24B647BD8D62D78F904D10A3F918D73FAC1B6AEFD17E8955F0AE5FA827CB29BC8201CA7E4E75D1A046011C0AADDA9A549FF5F43F5F4DDFB41A8DE81677F952DBD409F6C9C98ECABCF30C85A93277F9D6F2F6EBD1F8B6ED77114D2DFBC7EE5AD8FB3288D5D3A9948DB650EE215C43C776367A3BC462A4DA18657EB1275FF559B722AABB7B22B9D50979D5092D8F56E28F9DD2E5D638DBB58AFC9E265AA452552AB705AA735125088827D9D5A795FABECBB51A513535542648AB6F51124B09016BB693376EB0D0FFC5E7EA99137F9A791BC7B6FE86900FC70F81D9DC1EEFF96EEE7AD6E103E3B55E83C23C6198E62F82B443006187A0F006318A3CD0A34EDCB467BD0454F6432D96A511ABBA1F41504E9D0A43A29FFA768E5A3E1953F83DD7FE5CFD8249F9F7D8FDA5803B7567626F046FDD51EB3798B099CEDDA1B72D3DC35F1DD1C013A6D97E177CAFE6F9243B9CF5C85C00F06B8D01850994668E9C721AC66F93122C74780DAEF3390246469BD7F82E469EB9E6706DD34260A35C3205C6F9DDAC35384E05D1A2E6AEDD7E0B4065B9AF9F7E81AB8E4F07285E8A8DE789F22F75B94E22BE45D9283D017EC9680F4E7DC0FCD010661E7C27561925C136586DE344A116E3AD235DBECB70E286427ABFA880265F3B1EC27871498666D4C81EDA30A2AD471987975030ECB7E1A0EF3E67A0E8B3E6D39A448060C16DD34FC65ADF5ECE55DDA04652E922472FD8C2B45A0B10813F1B3247BCD6A8E19C957D83CC4734B7CAB4FEFCFE40B715AB6E829EFD1250C2086D6859B0762A7207181272B2C9990D782B152289ABBB58AB9BF493489FB86311D04A8B34AC8E1C04758F6F53E72FD35081AA5248C343C27D0B95734C4964BB88688126C9484097175B8893250D11116A549426387D138334564AD4BD3822B4D8D269A22ACF6F16874222D783D85069D2A4220B54AD5551E852D33E256346CC3CB43308B1A0AC5AD782BF2C84DA711B3821D1D5E1ABC15EE6E70B4B2C84D39D95F98EC2E18CBC1CDCB056D842F5871B322C48BCB55529C0DC44951F019C4BCEFDAB80FA5599724C3838833AF03DC48A7056879FAA8452D36640BD8F2C8500B5BE8750BD82644098C510419917DD0613AEA9F7D446B6EE4D1ABF9542A2179052307CCE028B44274F2FCC45B08853B93EAA5A2752EC6EE45331F33F9A8BC8906B09CCBB0122A15BC41422A7763EC70FA4B48F02F1AC0722EC34AA850CC060129FC8FA907EA2F1EDEE10CB4C1CA1B43E56636291E4E9EE351E682389A6490F12D58AFC97D95490E29BE58B33C3364FAD3AC7DAA449863386EA2C898A8B8AD28E128062B28B412D284D36B3F4EF025C06001E88D78EA855237A553D518FA9224EB37E5152CCD7ED99BFE3B1F51F3E4C8395BF9E45E605D939986F4EC9FBD0E29F4403D3C4BDA01018815E1C66914A421D25F45F4A3F3B8053B3EFF22238C1D817FE9B621494DBA0AF24B60B440F2E61878B1AA834CF705D343E8C45E86F959C1EB120CF428E5C58F45D15D06F76201075B3C3145A0FDDAE5EF0D4AA6F402EFB9D7D8B77F6ECBB10DC32F5C83986F12FAEFFBE50F869BE5C79E3B6557E22EDE445880E2534B0C26AC2E81316DE6A8FCCB078BC9B798230ACF1B2CA4D0D4824BF6118363926DE884A791A8BA873905F9D98245975BCD91150F182CB4A2B903B68267B1CD1C55F1C6C1022B9ACDB1370F1EA2FFDAE3C383F6FAD8FBF490072CFA19450DC6762CE330A70F266D8805623EB7C42A128324B0E2FB5E6A95F6CADD5BABF278553FADD260E82D119778C31BA2DA6C213D26974DC319FBBA6C223D5E3BDDDDB686F0F772BD9A5431AED66A508D6C6D3D681C42321BDA08992C3A43C3C320AA1FA11836BA71A87D0AEB6C1A6B9922470FCFCF5E306E12FA1E5FBDC5B798B718B1E9A73C65C8ACBDF294235B1B89A6A5E18387FBA83C7C34D290C33E167058FBD7DFFA1D98921791CFF63A5E0C6C1B9C69D21F2EFCBB8F0ACEC593B7A03F43449DF64007A508B9D8A53A2354917221223E2EA2D3CD359452B83AEF625BE56627D7F1D704C370443B8C66BF05D3C087F4F25576B805C85FC204E729ACF6E9F1C9A9507EB93FA5904E9278418B7A487EE176907F8B9E41EC3E8158CEC0ED512EB801951EED6F90075F26F67FB251E7D91B10FD57F6F98828F917E4FF969286799C42EB77394170F89CEDAE72DF79B1DB604BC5D7B2992FD6CDBF1FF3A147D67D4C36E2B9752C2C51176E24EBD5812D01C394BF818A640E78D77249F14A5461D775CF815FF87890FCF792CB1F42F0F2635BD69439EEBD101579EC43E10D22425D9E7A172C6D8EBA477EE22C47BDDD64D539EB5D58D3E6ABFBA83D9898AD6E6E8BCA916FE8CF14818E5D98A44CCE8DC59CBD4ABD7AED2BA982B33F1A57A5D90BEEF07DA02242F2A7ACB11CCCF32A4A2807C3DED2B9F130B5549BC5B0DB839A916C063D582BFE8E420B23B5F53A9B7D29ADD96469BF6D45CD2E8B686A12BAFE24B533DBA88728B2EE7B14C9F4D5134D22D756F544F774AF22DA18CADDB5C6B4A82EDA86C61405153DCA880E516374CFF207A131E6F557DB5098B776446FA12E2D9CDF3E688B9057FB48176B83F9486B9EF953EE3C7AD49F417BAA569D5EB144593CEEBB81A61E8442D5E62A1B931B5C7D8477B5327A20956C886B583CD1AA9E889A0A18F3F7B489ED2D22B2ECF9F1BE5369A35165A38ADAA6B505C5C642421DA5F6D59566C5953A7A1D6B2FCD4A2F7544CD2A33B99D2D91E35A5584B80E7B50B7A9AC00532956833BADCB7838803A4DED048CC5C069BD2633EE00CA31FB0B82DB899A2CAFBDAFBAEC2F865D6C8BBEC72485C4063D790D2C5E85E9956AA8B652B22A27DE90E30AF327CEC94929F1571B089A5284A0CB1D54AA3E37681995672581A3B28B1064BC851878E4147311637F095C4C9AE9435CF6C79DB2F711FA1CBC80DE0DBA4FF13AC564CA305C045CE49E9EBBEAE86775B93CCFE3FB75F6F78786980261D3A70F98F7E863EA075EC5F7B5E2414E03410F74C5B3175D4B4C9FBF56AF15D25D840C810AF155E7D0390CD701014BEED10C3CC32EBC11DDFB0457C07DDD3C65E8409A178217FBF8D207AB18844981B1194F7E121DF6C2979FFF0F83328BE7E95F0000 , N'6.1.3-40302')

